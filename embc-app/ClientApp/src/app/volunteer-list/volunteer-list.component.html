<!-- Local Authority -->
<div class="mb-4">
  <h1>Emergency Support Services Team Management Dashboard</h1>
  <p>Use this section to add new Emergency Support Services users, as well as edit existing user information and permissions.</p>

  <h3 class="blue-header">USERS LIST</h3>
  <div class="form-row">
    <div class="col-md">
      <input type="text" aria-label="search" class="form-control mb-2" placeholder="Search by last name &hellip;" [(ngModel)]="queryString" (keydown.enter)="search()">
    </div>
    <div class="col-md-auto">
      <button class="btn btn-primary" (click)="search()">SEARCH</button>
    </div>
  </div>
  <div class="search-results mt-4">
    <div *ngIf="resultsAndPagination && resultsAndPagination.data.length > 0; then searchResultsTable; else notFound"></div>
  </div>
  <ng-template #searchResultsTable>
    <div class="space-between align-items-center my-3">
      <section>
        <app-pagination-summary [value]="resultsAndPagination.metadata">
          <span class="font-weight-bold">ACTIVE</span> users
          <!-- TODO: <small class="ml-3">(<a href="">show deactivated</a>)</small> -->
        </app-pagination-summary>
      </section>
      <section>
        <button class="btn btn-primary" routerLink="" (click)="modifyVolunteer()">ADD USERS</button>
      </section>
    </div>
    <table class="table">
      <thead class="thead-light">
        <th scope="col">LAST NAME</th>
        <th scope="col">FIRST NAME</th>
        <th scope="col">BCEID</th>
        <!-- <th scope="col">RESTRICTED FILES</th> -->
        <th scope="col">ACTION</th>
      </thead>
      <tbody>
        <tr *ngFor="let volunteer of resultsAndPagination.data">
          <td>{{volunteer.lastName}}</td>
          <td>{{volunteer.firstName}}</td>
          <td>{{volunteer.bceidAccountNumber}}</td>
          <td>
            <a routerLink="" (click)="modifyVolunteer(volunteer.id)">Edit</a>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Pagination area -->
    <!-- <div class="col clearfix" *ngIf="totalPages > 1"> -->
    <div class="float-right">
      <app-paginator [metaData]="resultsAndPagination.metadata" (params)="onPaginationEvent($event)"></app-paginator>
    </div>
    <!-- </div> -->
    <div>
      <button class="btn btn-primary" routerLink="" (click)="modifyVolunteer()">ADD USERS</button>
    </div>
  </ng-template>

  <ng-template #notFound>
    <p>
      {{notFoundMessage}}
    </p>
  </ng-template>
</div>
<!-- <pre>{{previousQuery|json}}</pre> -->
<!--
<ul>
  <li>page:{{page|json}}</li>
  <li>totalPages:{{totalPages|json}}</li>
  <li>collectionSize:{{collectionSize|json}}</li>
  <li>maxSize:{{maxSize|json}}</li>
  <li>previousQuery:{{previousQuery|json}}</li>
  <li>sort:{{sort|json}}</li>
</ul> -->
